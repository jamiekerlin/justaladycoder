---
title: "Intro to the Tidyverse"
output: 
  html_document:
    toc: true
    toc_float: true
    number_section: true
    highlight: tango
    theme: readable
date: "2024-07-29"
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

<style>
#TOC {
  background: url("data:image/jpeg;base64,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");
  background-size: contain;
  padding-top: 275px !important;
  background-repeat: no-repeat;
  width = 50%;
}

</style>


# Overview

## Purpose 
The purpose of this document is to provide an introduction into using Tidyverse in R.
We will review the "core" packages within the Tidyverse and give examples.

## Load packages
```{r}

package_names <- c("tidyverse", "here", "janitor", "vtable", "ggimage")

for(x in package_names){
if (!x %in% rownames(installed.packages())) install.packages(x)
}

library(tidyverse)
library(here) #is a helpful package for defining file paths
library(janitor) #is a helpful package for cleaning data
library(vtable) #is a helpful package for summarizing data

```


## Load data

We'll be using the Star Wars data that comes loaded with the tidyverse.
```{r}
starwars_data <- starwars
starwars_data

vtable(starwars_data)
```


## Tidyverse Basics

Tidyverse was created with the purpose to have more consistent and intuitive verbiage.
There are several "core" packages we'll discuss here, including:  
- Readr: read and write delimited files  
- Dplyr: manipulate data  
- Tidyr: tidy and clean data  
- Stringr: find, extract, and replace strings  
- Purrr: programming  
- Forcats: working with factors  

GGplot is another major package in the tidyverse, but is not discussed here.


### The Pipe %>%
The pipe operator "%>%" strings together sequences of commands.  

It takes whatever is on the left side of the operator *and then* does the next command.

  
Example: take starwars_data *and then* rename a column, save as starwars_data2
```{r}

starwars_data2 <- starwars_data %>%
  rename(character_name = name)

starwars_data2

```

# Resources

Tidyverse website: https://www.tidyverse.org/

Learn the Tidyverse with the book R for Data Science: https://r4ds.hadley.nz/

See the different packages here: https://www.tidyverse.org/packages/

Readr cheat sheet: https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-import.pdf

Dplyr cheat sheet: https://github.com/rstudio/cheatsheets/blob/main/data-transformation.pdf

Tidyr cheat sheet: https://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf

Stringr cheat sheet: https://github.com/rstudio/cheatsheets/blob/main/strings.pdf

Purrr cheat sheet: https://github.com/rstudio/cheatsheets/blob/main/purrr.pdf

Forcats cheat sheet: https://raw.githubusercontent.com/rstudio/cheatsheets/main/factors.pdf


# Core Packages

## Readr

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/png;base64,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">
</div>

Reads rectangular data from files such as CSV

To use this as an example, we'll write the starwars_data to CSV and read it back into R.
We'll use the package "here", which makes it easier to define file pathways.

Since some of our columns are lists, we can't export this to CSV without losing that data, so this is just 
to show an example of how to use these functions.
```{r}

starwars_data %>%
  write_csv(here("Tutorials",
                 "Intro_To_The_Tidyverse",
                 "starwars.csv"))

starwars_data_example <- read_csv(here("Tutorials",
                 "Intro_To_The_Tidyverse",
                 "starwars.csv"))

```

## Dplyr

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/png;base64,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">

</div>

The package dplyr has functions to facilitate data manipulation using consistent verbs.


### select() 

Select the columns we want to keep in our data by naming the columns, the range of columns, or by description.
Can also be used to rearrange the order of the columns.

For example, we can name the specific columns or range of columns that we want in the dataframe:

```{r}
starwars_data %>%
  select(name, hair_color)

starwars_data %>%
  select(1:3)
```

We can select which columns we want by describing the columns:

```{r}
starwars_data %>% 
  select(name, ends_with("color"))

starwars_data %>% 
  select(name, where(is.numeric))

```

We can also select the columns we don't want using the same methods:

```{r}
starwars_data %>%
  select(!c(films, vehicles))

starwars_data %>%
  select(!where(is.character))
```

And we can rearrange the order of the columns:

```{r}
starwars_data %>%
  select(name, homeworld, species, everything())
```


### filter()

Allows us to filter the data:

```{r}

starwars_data %>% 
  filter(species == "Droid")

starwars_data %>% 
  filter(grepl("Skywalker", name))

starwars_data %>%
  filter(species == "Human" & homeworld == "Tatooine")

```


### mutate()

Mutate creates new columns based on the given commands or calculations.

For example, we can create a new column, "bmi" using mass and height data:

```{r}

starwars_data %>% 
  mutate(name, bmi = mass / ((height / 100)  ^ 2)) %>%
  select(name:mass, bmi)

```

Or we could create categories of heights:

```{r}
starwars_data %>%
  mutate(height_bin = case_when(height < 150 ~ "Less than 150",
                                height >= 150 & height < 175 ~ "150-174",
                                height >= 175 & height < 200 ~ "175-199",
                                height >= 200 ~ "200+")) %>%
  select(name, height, height_bin)
```


### summarise() and arrange()

Summarise allows us to get a summarized dataframe based on the groups defined and the functions used to summarise.

For example, let's find out how many characters there are from each species.  

  1. We can first use the group_by() function to group by species.  

  2. Then, we can use summarise(). This creates a new column (similarly to mutate) with the commands used within        the arguments (in this case, it creates the column "count" using the function n()).  
  
  3. While mutate maintains all rows, summarise only maintains rows unique to the groups (in this case, species)        and aggregates to the group level.
  
  4. The arrange() function lets us see the top species first
  

```{r}

starwars %>%
  group_by(species) %>%
  summarise(count = n()) %>%
  arrange(desc(count))

```

```{r, echo = FALSE}

droids <- starwars_data %>%
  select(name, species, films) %>%
  unnest() %>%
  filter(species == "Droid") %>%
  group_by(name) %>%
  summarise(no_films = n()) 

example <- c("Fake Droid Example", 0)

droids_example <- rbind(droids, example)

```


### joins

We can join data a few different ways:  

A inner_join() keeps only all observations in both x and y.  

A left_join() keeps all observations in x.  

A right_join() keeps all observations in y.  

A full_join() keeps all observations in x and y.  


Here are some example data that we can join to our starwars_data.
"droids" shows the number of films each droid was present in. 
"droids_example" is the same as "droids", but has an additional "fake" droid added for example purposes.
```{r}

droids

droids_example
```

Let's start with an inner_join() between the starwars_data (x) and droids_example (y). As you can see, it only keeps rows in both dataframes.

```{r}

innerjoin <- inner_join(starwars_data, droids_example)

innerjoin
```

Let's do a left_join() next with the starwars_data (x) and droids_example (y). 
Since starwars_data is on the left (x), we maintain all 87 rows and the new column "no_films" in our droids data (y) gets added to our data for the droids. The data for the fake droid in droids_examples does not stay in the data because it does not have a match in starwars_data.

```{r}
leftjoin <- left_join(starwars_data, droids_example) %>%
  select(name, no_films, everything())

leftjoin
```

Next, a right_join(). This will keep all observations in droids_example, including the data for the fake droid.
All the columns from starwars_data for those droids gets added to the data.

```{r}
rightjoin <- right_join(starwars_data, droids_example) %>%
  select(name, no_films, everything())

rightjoin
```

Last, we'll do a full_join(), where all observations present in either dataframe will be joined.

This includes the fake droid data along with the observations for all non-droids.
```{r}
fulljoin <- full_join(starwars_data, droids_example) %>%
  select(name, no_films, everything()) %>%
  arrange(no_films)
  

fulljoin
```


## Tidyr

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/jpeg;base64,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">

</div>

The package tidyr has functions that help achieve "tidy" data:  
  - Each variable is a column; each column is a variable  
  - Each observation is a row; each row is an observation  
  - Each value is a cell; each cell is a single value

### nest() and unnest()

We can nest or unnest data using these functions.

For example, we could nest all the data columns by a group:

```{r}
starwars_data_nest <- starwars_data %>%
  group_by(gender) %>%
  nest()

starwars_data_nest

```

And then we could use pluck() to grab the data separately for each of the groups.

```{r}
starwars_data_nest %>%
  pluck("data")
```

Next, we will unnest some data. As a reminder, the Star Wars data has 3 columns stored as lists:

```{r}
starwars_data %>%
  select(where(is.list))
```


Let's unnest the data in the films field (stored as a list)

We can do this using unnest_longer()
```{r}

starwars_data2 <- starwars_data %>%
  select(films, name) %>%
  unnest_longer(films) 

starwars_data2

```

Or using unnest_wider()

```{r}
starwars_data %>%
  select(name, films) %>%
  unnest_wider(films, names_sep = "_") 
```

### pivot_longer() & pivot_wider()

Let's play around some more with transforming data. First, we'll do something similar to what we did above
but now using the pivot functions.

Let's work with the newly unnested (using unnest_longer) field "films" to pivot our data to see which 
characters are in which films.

First, we'll start by pivoting wider.

```{r}

starwars_data_wide <- starwars_data2 %>%
  mutate(in_movie = 1) %>%
  pivot_wider(names_from = films,
              values_from = in_movie) 
starwars_data_wide

```

We can use the janitor package to clean up the new column names in one line of code

```{r}
starwars_data_wide2 <- janitor::clean_names(starwars_data_wide)
starwars_data_wide2
```

And we can replace those NAs with 0s where the character is not in the movie by using the mutate() function.

```{r}

starwars_data_wide2.2 <- starwars_data_wide2 %>%
  mutate(across(the_empire_strikes_back:the_phantom_menace, ~ replace_na(.x, 0)))
starwars_data_wide2.2
```


Then we can pivot this longer again...

```{r}
starwars_data_long <- starwars_data_wide2.2 %>%
  pivot_longer(cols = the_empire_strikes_back:the_phantom_menace,
               names_to = "movie",
               values_to = "character_in_movie")
starwars_data_long
```

And we did this in separate chunks, but the pipe could have done it all in one chunk of code:

```{r}
starwars_data_together <- starwars_data %>%
  select(films, name) %>%
  unnest_longer(films) %>%
  mutate(in_movie = 1) %>%
  pivot_wider(names_from = films,
              values_from = in_movie) %>%
  clean_names() %>%
  mutate(across(the_empire_strikes_back:the_phantom_menace, ~ replace_na(.x, 0)))

```


### unite() and separate()

Maybe we want to combine the film name with the episode number. We could do this using unite().

First, we'll set up our data for this. We'll unnest the films column, select only the columns we need, and will create a column (using mutate) with those episode numbers. We can use case_when() to do this.

```{r}
starwars_data_unite <- starwars_data %>%
  unnest(films) %>%
  select(name, films) %>%
  mutate(episode_no = case_when(films == "The Phantom Menace" ~ 1,
                         films == "Attack of the Clones" ~ 2,
                         films == "Revenge of the Sith" ~ 3,
                         films == "A New Hope" ~ 4,
                         films == "The Empire Strikes Back" ~ 5,
                         films == "Return of the Jedi" ~ 6,
                         films == "The Force Awakens" ~ 7))

starwars_data_unite


```

Now we can unite those two columns using unite().

The arguments in unite are:  
  - The new column name you are creating. In this case, we'll call it "movie"  
  - The columns you are uniting (episode_no and films)  
  - The string that will separate the two combined fields (": ")  
  - You can also include remove = TRUE or remove = FALSE to keep or remove original columns

```{r}
starwars_data_unite2 <- starwars_data_unite %>%
  unite("movie", c(episode_no, films), sep = ": ")

starwars_data_unite2
```

We can separate these columns again using separate()

```{r}
starwars_data_unite2 %>%
  separate(movie, into = c("episode_no", "films"), sep = ": ")
```


## Stringr

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/png;base64,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">

</div>

Makes working with strings "as easy as possible". Find/replace/extract strings using various functions. You can use these with regular expressions (RegEx)

### str_detect()

Tells you if there is a match to the specified pattern.

```{r}
starwars_data %>%
  filter(str_detect(hair_color, "brown"))
```

We can also use regular expressions. More information can be found in the stringr cheat sheet linked at the top of the page, but here's a quick example. This will look at the character's name in the row and create a new column with TRUE if there are any digits in the name and FALSE if there are no digits in the name.

```{r}
starwars_data %>%
  mutate(name_digit = str_detect(name, "[:digit:]")) %>%
  select(name, name_digit)
```

### str_count()

Returns a count of the matches to the specified string.

For example, how many digits are in each character's name?

```{r}
starwars_data %>%
  mutate(name_digit_no = str_count(name, "[:digit:]")) %>%
  select(name, name_digit_no)

```


### str_extract()

Extract the specified partial string.

```{r}
starwars_data_unite2 %>%
  mutate(episode_no = str_extract(movie, "[:digit:]"))

starwars_data %>%
  mutate(green_skin = str_extract(skin_color, "green")) %>%
  filter(green_skin == "green") %>%
  select(name, skin_color, green_skin)
```

### str_replace()

Replace a partial string with another specified string.

Let's say we don't want commas and spaces between the hair color column and we instead want "/".

```{r}
starwars_data %>%
  mutate(hair_color2 = str_replace(hair_color, ", ", "/")) %>%
  select(name, hair_color, hair_color2)
```


## Purrr

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/jpeg;base64,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">

</div>

The package purrr has functions that can replace for loops with succinct code that is easier to read.

### map()

Map allows us to apply functions to separate pieces of the data.

We can start out easy, using map to return the number of distinct values across all of our columns.

map() returns a list 

```{r}

starwars_data %>%
  map(n_distinct)
```

map_dbl() returns numbers
```{r}
starwars_data %>%
  map_dbl(n_distinct)
```

map_df() returns a dataframe

```{r}
starwars_data %>%
  map_df(n_distinct)
```

We can do more complicated iterative processes with map, such as fitting models to groups of the data.

Let's do a quick example for how you could fit a model for mass as a function of height for each species.

We start by selecting the columns we need and filtering for complete cases (no NAs in any column).

```{r}
starwars_data_map <- starwars_data %>% 
  select(name, species, height, mass) %>%
  filter(complete.cases(.)) 

starwars_data_map
```

We don't have a lot of data or big sample sizes. Only 2 of the species have more than 3 individuals, but we will
use that to map this. We group by species, filter to those with more than 3 individs, and then nest the data.

```{r}
starwars_data_map2 <- starwars_data_map %>%
  group_by(species) %>% 
  filter(n() > 3) %>%
  nest() 

starwars_data_map2
```

We can then create a new column using mutate that maps the model to each group. The next line of code
maps the function tidy() from the broom package, which extracts the model summary from our models.
Finally, we ungroup the data.

```{r}
starwars_data_map3 <- starwars_data_map2 %>%
  mutate(lm_obj = map(data, ~lm(mass ~ height, data = .))) %>%
  mutate(lm_tidy = map(lm_obj, broom::tidy)) %>%
  ungroup()

starwars_data_map3
```

To get the data to a dataframe format, we can select the fields we want and then unnest them!
```{r}
starwars_data_map4 <- starwars_data_map3 %>%
  select(species, lm_tidy) %>%
  unnest(cols = c(lm_tidy))

starwars_data_map4
```


## Forcats

<div class="row" style="float:right;position: relative;padding-left: 20px;">
<img src="data:image/jpeg;base64,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">

</div>

Forcats is a package that makes working with factors more easy by allowing for reordering and grouping.

### fct_lump()

Collapse the least or most frequent values of a factor into "other".

Here, we can lump the species that have few individuals into "other".

```{r}

starwars %>% 
  filter(!is.na(species)) %>%
  mutate(species = fct_lump(species, n = 3)) %>%
  count(species)
```

### fct_reorder()

Reorder a factor by another variable.

```{r}
starwars_data_reorder <- starwars_data %>%
  filter(!is.na(height) & !is.na(species)) %>%
  group_by(species) %>%
  summarise(avg_height = mean(height)) %>%
  mutate(species = fct_reorder(species, avg_height))

```

```{r, echo = FALSE}

library(ggimage)

ggplot(data = starwars_data_reorder, mapping = aes(x = avg_height, y = species)) +
  geom_point() +
  theme_transparent() +
  geom_image(
    data = tibble(avg_height = 250, species = "Chagrian"),
    aes(image = "https://qph.cf2.quoracdn.net/main-qimg-d0e7d9d46744fb487126ac381390f074"),
    size = 0.35) + 
  geom_image(
    data = tibble(avg_height = 75, species = "Toong"),
    aes(image = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRqx_FOZDg3WcZVzbOycs-ncJwzXXTkSpNR0A&s"),
    size = 0.2
  )
```



### fct_infreq()

Reorder a factor based on the frequency of the levels.

```{r}
starwars %>%
  mutate(eye_color = fct_infreq(eye_color)) %>%
  ggplot(aes(x = eye_color)) + 
  geom_bar() + 
  coord_flip()
```
